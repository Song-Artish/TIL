# 데이터베이스

> Q15. View에 대해 설명하시오.
> Q16. 인덱스에 대해 설명하시오.
> Q17. No SQL이 갖는 장점을 설명하시오.
> Q18. 정규화와 비정규화에 대해서 설명하시오.

2021.06.23

---

[TOC]

---



## 1. 데이터베이스

### 1.1 데이터의 분류

---

1.1.1 **정형 데이터**

- 구조화된 데이터, 즉 미리 정해진 구조에 따라 저장된 데이터
- 예) 엑셀의 스프레드시트, 데이터베이스의 테이블

1.1.2 **반정형 데이터**

- 구조에 따라 저장된 데이터이지만 데이터 내용 안에 구조에 대한 설명이 함께 존재
- 구조를 파악하는 파싱(parsing) 과정이 필요
- 예) HTML, XML, JSON 문서나 웹 로그, 센서 데이터

1.1.3 **비정형 데이터**

- 정해진 구조가 없이 정해진 데이터
- 예) 소셜 데이터의 텍스트, 영상, 이미지, 워드나 PDF 문서와 같은 멀티미디어 데이터



### 1.2 관리시스템

---

1.2.1 **1세대**

- 네트워크 DBMS(그래프 형태), 계층 DBMS(트리 형태)

1.2.2 **2세대: 관계 DBMS**

- DB를 테이블 형태로 구설
- 오라클, MS SQL 서버, MySQL

1.2.3 **3세대: 객체지향/객체관계 DBMS**

- 객체지향 DBMS
  - 객체를 이용해 데이터 베이스를 구성
  - O2, ONTOS, GemStone
- 객체관계 DBMS
  - 객체 DBMS + 관계 DBMS

1.2.4 **4세대: NoSQL, NewSQL DBMS**

- **NoSQL DBMS** :ballot_box_with_check:
  - 비정형 데이터를 처리하는데 적합하고 확장성이 뛰어남
  - MongoDB, Cassandra
- **NewSQL DBMS **:ballot_box_with_check:
  - 관계 DBMS의 장점 + NoSQL의 확장성 및 유연성
  - 구글 Spanner, VoltDB, NuoDB



### 1.3 용어

---

**스키마(Schema)**

- 데이터베이스에 저장되는 데이터 구조와 제약조건을 정의한 것

**인스턴스(Instance)**

- 스키마에 따라 데이터베이스에 실제로 저장된 값

**데이터 독립성(Data Independency)**

- 하위 스키마를 변경하더라도 상위 스키마가 영향을 받지 않는 특성
- 논리적 데이터 독립성
  - 개념 스키마가 변경되어도 외부 스키마는 영향을 받지 않음
- 물리적 데이터 독립성
  - 내부 스키마가 변경되어도 개념 스키마는 영향을 받지 않음



### 1.4 언어

---

1.4.1 **데이터 정의어(DDL)**

> Data Definition Language

- 스키마를 정의하거나, 수정 또는 삭제하기 위해 사용
- CREATE, ALTER, DROP, RENAME, TRUNCATE

1.4.2 **데이터 조작어(DML)**

> Data Manipulation Language

- 데이터의 삽입/삭제/수정/검색 등의 처리를 요구하기 위해 사용
- 절차적 데이터 조작어와 비절자적 데이터 조작어로 구분
- SELECT, INSERT, UPDATE, DELETE

1.4.3 **데이터 제어어(DCL)**

> Data Control Language

- 내부적으로 필요한 규칙이나 기법을 정의하기 위해 사용
- GRANT, REVOKE



## 2. View

> 관계 DB의 SQL에서 하나 이상의 테이블 (도는 다른 뷰)에서 원하는 모든 데이터를 선택하여, 그들을 사용자 정의하여 나타낸 것

- 데이터를 실제로 저장하지 않고 논리적으로만 존재하는 테이블이지만, 일반 테이블과 동일한 방법으로 사용함



## 3. Index

> DB 분야에 있어서 테이블에 대한 동작의 속도를 높여주는 자료 구조

- 인덱스는 테이블 내의 1개의 컬럼, 혹은 여러 개의 컬럼을 이용하여 생성
- 고속의 검색 동작뿐만 아니라 레코드 접근과 관련 효율적인 순서 매김 동작에 대한 기초를 제공



## 4. 데이터모델링

### 4.1 개념

- 현실 세계에 존재하는 데이터를 컴퓨터 세계의 데이터베이스로 옮기는 변환 과정
- 데이터베이스 설계의 핵심 과정
- :white_check_mark: 2단계 데이터 모델링
  - 개념적 데이터 모델링(conceptual modeling)
    - 현실 세계의 중요 데이터를 추출하여 개념 세계로 옮기는 작업
  - 논리적 데이터 모델링(logical modeling)
    - 개념 세계의 데이터를 데이터베이스에 저장하는 구조로 표현하는 작업



### 4.2 개체 - 관계 모델

- **개체(entity)**: 저장할 가치가 있는 중요 데이터를 가지고 있는 사람/사물/개념/사건 등
- **속성(attribute)**: 개체나 관계가 가지고 있는 고유의 특성
- **개체 타입(entity type)**: 개체를 고유의 이름과 속성으로 정의한 것
- **개체 인스턴스(entity instance)**: 개체를 구성하고 있는 속성이 실제 값을 가짐으로써 실체화된 개체
- **개체 집합(entity set)**: 정특정 개체 타입에 대한 개체 인스턴스들을 모아놓은 것



### 4.3 논리적 데이터 모델

> ERD(E-R 다이어그램)으로 표현된 개념적 구조를 DB에 저장할 형태로 표현한 논리적 구조

|                       관계 데이터 모델                       |                       계층 데이터 모델                       |            네트워크 데이터 모델             |
| :----------------------------------------------------------: | :----------------------------------------------------------: | :-----------------------------------------: |
| - 일반적으로 많이 사용되는 논리적 데이터 모델<br />- 개념적 구조를 논리적 구조로 표현하는 논리적 데이터 모델 | - DB의 논리적 구조가 tree 형태<br />- 루트 역할을 하는 개체가 존재하고 사이클이 존재하지 않음 | DB의 논리적 구조가 네트워크, 즉 그래프 형태 |



### 4.4 데이터베이스의 구성

---

**DB Schema**

- DB의 전체 구조
- DB를 구성하는 릴레이션 스키마의 모음

**DB Instance**

- DB를 구성하는 릴레이션 인스턴스의 모음



### 4.5 관계 데이터 모델 key

> relation에서 tuple들을 유일하게 구별하는 속성 또는 속성들의 집합

**특성**

- 유일성
- 최소성: 꼭 필요한 최소한의 속성들로만 키를 구성함

**종류**

- 슈퍼키
  - 유일성을 만족하는 속성 또는 속성들의 집합
- 후보키(candidate key)
  - 유일성과 최소성을 만족하는 속성 또는 속성들의 집합
- 기본키(primary key)
  - 후보키 중에서 기본적으로 사용하기 위해 선택한 키
- 대체키(alternate key)
  - 기본키로 선택되지 못한 후보키
- 외래키(foreign key)
  - 다른 relation의 기본키를 참조하는 속성 또는 속성들의 집합



### 4.6 제약조건

---

|    제약조건     |                            특징                             |
| :-------------: | :---------------------------------------------------------: |
|   **무결성**    | 데이터의 무결성을 보장하고 일관된 상태로 유지하기 위한 규칙 |
| **개체 무결성** |  기본키를 구성하는 모든 속성은 null 값을 가질 수 없는 규칙  |
| **참조 무결성** |       외래키는 참조할 수 없는 값을 가질 수 없는 규칙        |

`(무결성: 데이터를 결함이 없는 상태, 즉 정확하고 유효하게 유지하는 것)`



## 5. 정규화

### 5.1 이상(anomaly) 현상

> 불필요한 데이터 중복으로 인해 relation에 대한 데이터 삽입/수정/삭제 연산을 수행할 때 발생할 수 있는 부작용

- 삽입 이상 (insertion -)
  - relation에 새 데이터를 삽입하려면 불필요한 데이터도 함께 삽입해야 하는 문제
- 갱신 이상 (update -)
  - relation의 중복된 tuple들 중 일부만 수정하여 데이터가 불일치하게 되는 모순이 발생하는 문제
- 삭제 이상 (delete -)
  - relation에서 tuple을 삭제하면 꼭 필요한 데이터까지 손실되는 연쇄 삭제 현상이 발생하는 문제

### 5.2 정규화의 개념

> **정규화**는 이상 현상을 제거하면서 데이터베이스를 올바르게 설계해나가는 과정

- 함수적 종속성을 판단하여 정규화를 수행함
- **함수적 종속성(FD, Functional Dependency)**: 속성들 간의 관련성

|               용어                |                             특징                             |
| :-------------------------------: | :----------------------------------------------------------: |
|  **정규화**<br />(normalization)  | 함수 종속성을 이용하여, relation을 연관성이 있는 속성들로만 구성되도록 분해하여 이상 현상이 발생하지 않는 바람직한 relation으로 만들어 나가는 과정 |
| **정규형**<br />(NF; Normal Form) | - relation이 정규화된 정도로 각 정규형마다 제약조건이 존재<br />- relation의 특성을 고려하여 적합한 정규형을 선택 |



***Copyright* © 2021 Song_Artish**