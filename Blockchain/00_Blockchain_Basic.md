# 블록체인 기초

---

[TOC]

---



## 개념

### Blockchain

> 블록체인(block chain)은 관리 대상 데이터를 '**블록**'이라고 하는 소규모 데이터들이 **P2P** 방식을 기반으로 생성된 **체인** 형태의 연결고리 기반 **분산** 데이터 저장 환경에  저장하여 누구라도 임의로 수정할 수 없고 누구나 변경의 결과를 열람할 수 있는 분산 컴퓨팅 기술 기반의 **원장** 관리 기술이다. (출처: 위키백과)
>

- **블록** : 가치있는 정보를 저장하는 데이터 구조
- 블록체인은 본질적으로 특정한 구조를 지닌 데이터베이스일 뿐이며 순서가 지정된 링크드 리스트이다.



### Cryptography

- 복호화 가능
  - 대칭키 암호화
    - AES, DES...
    - ARIA, SEED
  - 비대칭키 암호화(공개키 암호화)
    - RSA, ECC
    - ECDSA
    - DS(전자서명)
- 복호화 불가능(단방향 암호화, 해시함수)
  -  SHA256, keccak256, RIPEMD-16



### Hash Function

> 임의의 길이의 데이터를 고정된 길이의 데이터로 매핑하는 함수 (블록해시)
>
> - 예시 : n 값의 나머지 범위인 (0 ~ n-1)

- 각 블록이 해시 값을 가지고 있다. (블록)
- 또한 각 블록이 이전 해시 값을 가지고 다른 블록과 연결되어 있다. (체인)
  - Genesis 블록의 경우, empty 값(null과는 다른) 혹은 random 값을 넣어주면 된다.

**해시의 활용**

- 비밀번호 저장시, DB에서는 해시함수로 암호화하여 저장

- 버전관리 혹은 문서 복제 등을 검사하기 위해 사용

  - 해시함수는 문자열로 축소하기 때문에 문서의 모든 단어를 비교하는 것보다 속도가 빠르다.

- 문자를 숫자나 저장되는 주소로 치환하여 검색에 사용

  ```markdown
  # 블록체인 활용 분야
  
  - 음식의 유통 경로 추적
  - 소프트웨어 개발에 보안 더하기
  - 디지털 콘텐츠 관리
  - 의료 기록 추적
  - 대출 승인
  - 보험금 청구
  - 감사 추적
  - 투표
  - 스마트 계약
  - 암호화폐
  ```

  - `출처: 보안뉴스 (https://www.boannews.com/media/view.asp?idx=65690, 검색일: 2020.12.24)`



### Nonce

> 암호화 임시값
>
> nonce를 사용하여 정해진 규칙에 부합하는 hash 값을 생성할 수 있다.

- Proof of Work(Pow) : nounce를 변경해가면서 최종 해시를 구하는 작업
- 마이닝(채굴) : 작업증명(Pow)을 통해 최종 블록을 생성하는 것



## 종류

### Consensus Algorithm

|                                  | 작업증명<br />Proof of Work(PoW) |     지분증명<br />Proof of Stake(PoS)      |   Byzantine Fault Tolerance(BFT)    |
| :------------------------------: | :------------------------------: | :----------------------------------------: | :---------------------------------: |
|      **제안자격 취득방법**       |  목표값 이하의 해시를 찾는 작업  | 플랫폼 토큰을 보유한 양과 기간에 따라 결정 | 정해진 순번 또는 정해진 확률에 의해 |
|      **네트워크 참여 제한**      |               없음               |                없거나 낮음                 |                높음                 |
| **합의에 필요한 연산량 및 비용** |               높음               |                    낮음                    |                낮음                 |
|             **위험**             |             51% 공격             |                  51% 공격                  |                담합                 |
|      **대표적인 블록체인**       |        비트코인, 이더리움        |                casper, EOS                 |            Hyeperledger             |

- 비트코인, 이더리움은 필요한 연산의 비용이 높음
- 51% 공격의 위험성이 있음

> **51% 공격**이란 블록체인의 전체 노드 중 50%를 초과하는 해시 연산력을 확보한 뒤, 거래 정보를 조작함으로써 이익을 얻으려는 해킹 공격 (출처: 해시넷)

- 신원 확인 방법
  - 공개키를 암호화하여 사용한다.



### Type of blockchain

|            |       Public       |                   Private                   |
| :--------: | :----------------: | :-----------------------------------------: |
| **참여형** | 비트코인, 이더리움 |                                             |
| **제한형** |       Klaytn       | ripple, Stellar<br />// Corda, Hyeperledger |

- Hyeperledger는 참여형과 제한형이 켤합된 컨소시엄 블록체인



### Cryptocurrency

|                   |                  비트코인                   |                           이더리움                           |
| :---------------: | :-----------------------------------------: | :----------------------------------------------------------: |
|    **개발자**     |           나카모토 사토시 (익명)            |                        비탈릭 부테린                         |
|     **언어**      |                     C++                     |              C++, GO, Solidity(Smart Contract)               |
| **합의 알고리즘** |                     PoW                     |                     PoW -> PoS 변환예정                      |
|   **구현방법**    | UTXO 구조<br />(Unspent Transaction Output) | 어카운트 기반 (EOA Externally Owned Account)와 Smart Contract로 구분 |



***Copyright* © 2021 Song_Artish**